<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>baseball</title>
    <script>
        let makeNum = []
        for (i = 0; i < 3; i++) {
            randomNum = Math.floor(Math.random() * 10)
            if (makeNum.indexOf(randomNum) === -1) {
                makeNum.push(randomNum)
            } else {
                i--
            }
        }
        let count = 0
        while (true) {
            let userNums = []
            let userNum = prompt('3개의숫자를 입력해주세요', "")

            if (userNum == null) { // prompt 취소 눌렀을때
                alert('게임을 종료합니다.')
                break
            }
            else if (!!Number(userNum) == false) {
                alert('숫자를 입력해주세요.')
                continue
            }
            else if (userNum.length !== 3) {
                alert('3자리 숫자를 입력해주세요.');
                continue;
            }
            userNums = userNum.split('');

            let strikes = 0
            let balls = 0

            for (let i = 0; i < 3; i++) {// 숫자비교
                for (let j = 0; j < 3; j++) {
                    if (makeNum[i] === Number(userNums[j])) {
                        if (i === j) {
                            strikes++
                        } else {
                            balls++
                        }
                    }
                }
            }
            count++
            console.log(`${count}번째 시도 : ${userNum}`)
            if (strikes === 3) {
                alert(`${count}번만에 맞히셨습니다.\n 게임을 종료합니다.`)
                break
            } else {
                console.log(`${balls}b${strikes}s`)
            }
        }

    </script>

</head>

<body>

</body>

</html>
